# EventTech

This project is a simple analysis of attendance data obtained during my years as part of a student organization
providing event technology and expertise to various student events in Otaniemi. The project scope might increase
in the future to encompass more data generated by e.g. billing. Contact details and other client identifying information
has been redacted.

## Configuration

Most of the environment is configured using a config.ini file located at `config/config.ini`. The main environment
configurations are local development environment and AWS deployed production environment. Some settings are inferred
from the presence or absence of keys. The structure of the ini file and all keys are provided below.

```ini
[Env]
# Specify which environment is used
# In prod environments, various secrets are fetched from AWS Parameter Store
# to create an authentication token for RDS usage
environment = dev | prod

# Various database connection configuration values
[Database]
drivername = postgresql+psycopg2
port = 5432
database = DatabaseName
username = User
password = password
host = host

# Persistence configurations for generated objects
[Storage]
# Local path to plot directory
local_plot_dir = /path/to/plots
# S3 bucket name, optional
s3_bucket_name = mybucketname
# S3 plot directory, optional
s3_plot_dir = /path/to/s3/plots
```

## Usage

After setting up a Python virtual environment, the local Postgres container is composed using `docker compose up -d`.
The database is filled by `python3 -m data.data_preprocess` and analysis is executed by `python3 -m eventtech.main`.
For AWS, one needs to setup a RDS and an EC2 instance and the required permissions.

- [ ] Define required AWS services via CDK
